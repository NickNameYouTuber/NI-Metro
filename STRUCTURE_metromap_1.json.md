# Структура файла metromap_1.json

## Корневой объект

Файл представляет собой JSON-объект с двумя основными разделами: `info` и `metro_map`.

---

## 1. Раздел `info`

Содержит общую информацию о карте метро.

| Поле | Тип | Описание |
|------|-----|----------|
| `version` | `string` | Версия формата данных (например, "1.0") |
| `author` | `string` | Автор карты (например, "Nicorp") |
| `country` | `string` | Страна, к которой относится карта метро (например, "Россия") |
| `name` | `string` | Название города или системы метро (например, "Москва") |
| `icon` | `string` | URL-адрес иконки/логотипа метро |

---

## 2. Раздел `metro_map`

Основной раздел, содержащий данные о карте метро.

### 2.1. Поле `lines`

Массив объектов, каждый из которых представляет одну линию метро.

#### Структура объекта линии:

| Поле | Тип | Описание |
|------|-----|----------|
| `id` | `string` | Уникальный идентификатор линии (например, "1") |
| `displayNumber` | `string` | Номер линии для отображения (например, "1") |
| `displayShape` | `string` | Форма отображения номера линии на карте. Возможные значения: "CIRCLE" и другие |
| `tariff` | `object` | Объект с информацией о тарифе линии |
| `name` | `string` | Название линии (например, "Сокольническая линия") |
| `color` | `string` | Цвет линии в формате HEX (например, "#E40520") |
| `isCircle` | `boolean` | Флаг, указывающий, является ли линия кольцевой |
| `lineType` | `string` | Тип линии (например, "single") |
| `stations` | `array` | Массив объектов станций, принадлежащих этой линии |

#### Структура объекта `tariff`:

| Поле | Тип | Описание |
|------|-----|----------|
| `type` | `string` | Тип тарифа (например, "FlatRateTariff" - фиксированный тариф) |
| `price` | `number` | Цена проезда в рублях (например, 70) |

#### Структура объекта станции в массиве `stations`:

| Поле | Тип | Описание |
|------|-----|----------|
| `id` | `string` | Уникальный идентификатор станции (например, "METRO_100", "TRAM_T1_057", "RT2_S6") |
| `name` | `string` | Название станции (например, "Бульвар Рокоссовского") |
| `x` | `number` | Координата X станции на карте в пикселях |
| `y` | `number` | Координата Y станции на карте в пикселях |
| `textPosition` | `number` | Позиция текста названия станции относительно точки станции (число от 1 до 9, где 5 - центр) |
| `neighbors` | `array` | Массив массивов, каждый из которых содержит информацию о соседней станции |
| `facilities` | `object` | Объект с информацией об инфраструктуре станции |

#### Структура элемента массива `neighbors`:

Каждый элемент представляет собой массив из двух элементов:
- `[0]` - `string`: Идентификатор соседней станции
- `[1]` - `number`: Тип связи (например, 3 - обычная связь)

#### Структура объекта `facilities`:

| Поле | Тип | Описание |
|------|-----|----------|
| `schedule` | `string` | Расписание работы станции в формате "ЧЧ:ММ - ЧЧ:ММ" (например, "5:30 - 0:00", "6:00 - 22:00") |
| `escalators` | `number` | Количество эскалаторов на станции |
| `elevators` | `number` | Количество лифтов на станции |
| `exits` | `array` | Массив строк с названиями выходов со станции (например, ["Выход 1", "Выход 2"]). Может быть пустым массивом [] |

---

### 2.2. Поле `transfers`

Массив объектов, представляющих пересадки между станциями. В текущей версии файла может быть пустым массивом `[]`.

---

### 2.3. Поле `intermediatePoints`

Массив промежуточных точек на карте. В текущей версии файла может быть пустым массивом `[]`.

---

### 2.4. Поле `rivers`

Массив объектов, представляющих реки на карте. В текущей версии файла может быть пустым массивом `[]`.

---

### 2.5. Поле `objects`

Массив других объектов на карте. В текущей версии файла может быть пустым массивом `[]`.

---

## Пример структуры

```json
{
  "info": {
    "version": "1.0",
    "author": "Nicorp",
    "country": "Россия",
    "name": "Москва",
    "icon": "https://..."
  },
  "metro_map": {
    "lines": [
      {
        "id": "1",
        "displayNumber": "1",
        "displayShape": "CIRCLE",
        "tariff": {
          "type": "FlatRateTariff",
          "price": 70
        },
        "name": "Сокольническая линия",
        "color": "#E40520",
        "isCircle": false,
        "lineType": "single",
        "stations": [
          {
            "id": "METRO_100",
            "name": "Бульвар Рокоссовского",
            "x": 1659,
            "y": 1252,
            "textPosition": 3,
            "neighbors": [
              ["METRO_101", 3],
              ["METRO_1505", 3]
            ],
            "facilities": {
              "schedule": "5:30 - 0:00",
              "escalators": 0,
              "elevators": 0,
              "exits": []
            }
          }
        ]
      }
    ],
    "transfers": [],
    "intermediatePoints": [],
    "rivers": [],
    "objects": []
  }
}
```

---

## Примечания

- Идентификаторы станций могут иметь различные префиксы:
  - `METRO_` - станции метро
  - `TRAM_` - остановки трамвая
  - `RT2_` - станции других типов транспорта
- Поле `textPosition` использует числовую систему позиционирования, где:
  - 1-9 соответствуют позициям вокруг точки (как на цифровой клавиатуре)
  - 1 - левый верхний угол
  - 3 - правый верхний угол
  - 5 - центр
  - 7 - левый нижний угол
  - 9 - правый нижний угол
- Координаты `x` и `y` задаются в пикселях относительно некоторой системы координат карты
- Массив `neighbors` может содержать связи с станциями других линий (пересадки) и другими видами транспорта



